# BMM350 Geomagnetic sensor configuration options

# Copyright (c) 2024 Bosch Sensortec GmbH

# SPDX-License-Identifier: Apache-2.0

menuconfig BMM350
	bool "BMM350 I2C Geomagnetic Chip"
	default y
	depends on DT_HAS_BOSCH_BMM350_ENABLED
	select I2C if $(dt_compat_on_bus,$(DT_COMPAT_BOSCH_BMM350),i2c)
	select I2C_RTIO if $(dt_compat_on_bus,$(DT_COMPAT_BOSCH_BMM350),i2c)
	select I3C if $(dt_compat_on_bus,$(DT_COMPAT_BOSCH_BMM350),i3c)
	select I3C_RTIO if $(dt_compat_on_bus,$(DT_COMPAT_BOSCH_BMM350),i3c)
	help
	  Enable driver for BMM350 I2C-based Geomagnetic sensor.

if BMM350

module = BMM350
thread_priority = 10
thread_stack_size = 1024
source "drivers/sensor/Kconfig.trigger_template"

config BMM350_STREAM
	bool "Streaming mode"
	default y
	depends on SENSOR_ASYNC_API
	depends on GPIO || \
		   $(dt_compat_on_bus,$(DT_COMPAT_BOSCH_BMM350),i3c)
	depends on $(dt_compat_any_has_prop,$(DT_COMPAT_BOSCH_BMM350),drdy-gpios) || \
		   $(dt_compat_on_bus,$(DT_COMPAT_BOSCH_BMM350),i3c)
	depends on !BMM350_TRIGGER

endif # BMM350
